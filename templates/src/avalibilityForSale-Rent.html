{% extends 'src/base.html' %}
{% block title %}Avalibility For Sale / Rent{% endblock title %}
{% block page_header_h3 %}Avalibility For Sale / Rent{% endblock page_header_h3 %}
{% block page_header_span %}Avalibility For Sale / Rent{% endblock page_header_span %}
{% load static %}
{% block body %}
<a href="for_sale_availability" style="float: left; margin-right: 10px;" class="bg-blue-500 px-5 mt-3 py-3 font-semibold text-white  rounded-lg"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"/></svg>For Sale</a>
<a href="for_rent_availability" style="float: left; margin-right: 10px;" class="bg-blue-500 px-5 mt-3 py-3 font-semibold text-white  rounded-lg"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"/></svg>For Rent</a>
<a href="availability_filter_page" style="float: left;" class="bg-blue-500 px-5 mt-3 py-3 font-semibold text-white  rounded-lg"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"/></svg>Advance Filter</a>

<a href="add_availability1" style="float: right;" class="bg-blue-500 px-5 mt-3 py-3 font-semibold text-white  rounded-lg"><svg xmlns="http://www.w3.org/2000/svg" height="1em" fill="white" class="inline-block mr-2" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"/></svg>Add</a>

      </header>

      <div class="relative">

        <button id="scrollLeftButton" class="absolute z-10 top-[50%] left-0"><img src="{% static 'assets/arrowheads-of-thin-outline-to-the-left.png' %}" class="w-8"></button>
        <button id="scrollRightButton" class="absolute z-10 top-[50%]  right-0"><img src="{% static 'assets/fast-forward-double-right-arrows-symbol.png' %}" class="w-8"></button>
        <div class="relative overflow-x-scroll mt-20 shadow-md sm:rounded-lg" id="scrollContainer">

            <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400"  id="content">
                <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                    <tr>
                        <!-- <th scope="col" class="p-4">
                            <div class="flex items-center">
                                <input id="checkbox-all-search" type="checkbox" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                                <label for="checkbox-all-search" class="sr-only">checkbox</label>
                            </div>
                        </th> -->
                        <th scope="col" class="px-6 py-3">
                           Sr No:
                        </th>
                        <th scope="col" class="px-6 py-3">
                           Location
                        </th>
                        <th scope="col" class="px-6 py-3">
                           Community
                        </th>
                        <th scope="col" class="px-6 py-3">
                           Tower/Building
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Property Type
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Floor No
                        </th>
                        {% if type != 'Agent' %}
                        <th scope="col" class="px-6 py-3">
                           Unit No
                        </th>
                        {% endif %}
                        <th scope="col" class="px-6 py-3">
                           Bedrooms
                        </th>
                        <th scope="col" class="px-6 py-3">
                          Bathrooms
                        </th>
                        <th scope="col" class="px-6 py-3">
                          View
                        </th>
                        <th scope="col" class="px-6 py-3">
                          SQFT
                        </th>
                        <th scope="col" class="px-6 py-3">
                          Price
                        </th>
                        <th scope="col" class="px-6 py-3">
                          Comments
                        </th>
                        <th scope="col" class="px-6 py-3">
                          Date
                        </th>
                        <th scope="col" class="px-6 py-3">
                          Status
                        </th>
                        <th scope="col" class="px-6 py-3">
                          Owner Name
                        </th>
                        <th scope="col" class="px-6 py-3">
                          Contact No
                        </th>
                        <th scope="col" class="px-6 py-3">
                          Email
                        </th>
                        <th scope="col" class="px-6 py-3">
                          Availability Status
                        </th>
                        <th scope="col" class="px-6 py-3">
                          Added by
                        </th>
                        {% if type != 'Admin' and type != 'Agent' %}
                        <th scope="col" class="px-6 py-3">
                          Operations
                        </th>
                        {% endif %}
                    </tr>
                </thead>
                <tbody>
                    {% for availability in availabilities %}
                <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
                    <!-- Table row for each lead -->
                    <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                        {{ availability.sno }}
                    </th>
                    <td class="px-6 py-4">
                        {{ availability.location }}
                    </td>
                    <td class="px-6 py-4">
                        {{ availability.community }}
                    </td>
                    <td class="px-6 py-4">
                        {{ availability.property }}
                    </td>
                    <td class="px-6 py-4">
                        {{ availability.property_type }}
                    </td>
                    <td class="px-6 py-4">
                        {{ availability.floor_no }}
                    </td>
                    {% if type != 'Agent' %}
                    <td class="px-6 py-4">
                        {{ availability.unit_no }}
                    </td>
                    {% endif %}
                    <td class="px-6 py-4">
                        {{ availability.bedrooms }}
                    </td>
                    <td class="px-6 py-4">
                        {{ availability.bathrooms }}
                    </td>
                    <td class="px-6 py-4">
                        {{ availability.view }}
                    </td>
                    <td class="px-6 py-4">
                        {{ availability.sqft }}
                    </td>
                    <td class="px-6 py-4">
                        {{ availability.price }}
                    </td>
                    <td class="px-6 py-4">
                        {{ availability.comments }}
                    </td>
                    <td class="px-6 py-4">
                        {{ availability.added_date }}
                    </td>
                    <td class="px-6 py-4">
                        {{ availability.status }}
                    </td>
                    <td class="px-6 py-4">
                        {{ availability.owner_name }}
                    </td>
                    <td class="px-6 py-4">
                        {{ availability.contact_no }}
                    </td>
                    <td class="px-6 py-4">
                        {{ availability.email }}
                    </td>
                    <td class="px-6 py-4">
                        {{ availability.availability_status }}
                    </td>
                    <td class="px-6 py-4">
                        {{ availability.added_by }}
                    </td>
                    {% if type == 'Telecalling' %}
                    <td class="px-6 py-4">
                        <a href="{% url 'availability_update' availability.pk %}" class="font-medium text-blue-600 dark:text-blue-500 hover:underline">Edit</a>
                    </td>
                    {% elif type == 'Manager' %}
                    <td class="px-6 py-4">
                        <a href="{% url 'availability_update' availability.pk %}" class="font-medium text-blue-600 dark:text-blue-500 hover:underline">Edit</a>
                        <a href="{% url 'availability_delete' availability.pk %}" class="font-medium text-red-600 dark:text-red-500 hover:underline">Delete</a>
                    </td>
                    {% endif %}
                    <!-- Add more fields as needed -->

                </tr>
                {% endfor %}
                </tbody>
            </table>
          </div>  
    </div>


      
      
     
   
     </section>
     
  
  </div>

  <script>
    document.addEventListener('click', function(event) {
        var table = document.getElementById('myTable');
        var isClickInsideTable = table.contains(event.target);
        if (!isClickInsideTable) {
            removeSelected();
        }
    });

    function cellClick(cell) {
        removeSelected();
        cell.classList.add('selected');
    }

    function removeSelected() {
        var cells = document.getElementsByTagName('td');
        for (var i = 0; i < cells.length; i++) {
            cells[i].classList.remove('selected');
        }
    }
</script>
<script>
    const input = document.getElementById('Location');
    const suggestions = document.getElementById('suggestions');

    // Simulated suggestions for demonstration
    const simulatedSuggestions = [
        'Apple', 'Banana', 'Orange', 'Strawberry', 'Pineapple', 'Grapes'
    ];

    input.addEventListener('input', function() {
        const enteredText = input.value.toLowerCase();

        // Filter suggestions based on entered text
        const filteredSuggestions = simulatedSuggestions.filter(suggestion =>
            suggestion.toLowerCase().includes(enteredText)
        );

        // Show/hide suggestions and update the suggestions list
        if (enteredText.length === 0) {
            suggestions.style.display = 'none';
        } else {
            suggestions.style.display = 'block';
            suggestions.innerHTML = filteredSuggestions.map(suggestion =>
                `<div class="cursor-pointer hover:bg-gray-100 p-1" onclick="selectSuggestion('${suggestion}')">${suggestion}</div>`
            ).join('');
        }
    });

    function selectSuggestion(suggestion) {
        input.value = suggestion;
        suggestions.style.display = 'none';
    }
</script>
<script>
    const input2 = document.getElementById('tower');
    const suggestions2 = document.getElementById('suggestions2');

    // Simulated function to fetch suggestions (Replace this with actual server logic)
    function fetchSuggestions(enteredText) {
        // Simulated suggestions for demonstration
        const simulatedSuggestions = [
            'John', 'Emma', 'William', 'Sophia', 'James', 'Olivia', 'Alexander', 'Ava', 'Michael', 'Isabella'
        ];

        return simulatedSuggestions.filter(suggestion => suggestion.toLowerCase().includes(enteredText.toLowerCase()));
    }

    input2.addEventListener('input', function() {
        const enteredText = input2.value;

        // Fetch suggestions based on entered text
        const fetchedSuggestions = fetchSuggestions(enteredText);

        // Show/hide suggestions and update the suggestions list
        if (enteredText.length === 0) {
            suggestions.style.display = 'none';
        } else {
            suggestions2.style.display = 'block';
            suggestions2.innerHTML = fetchedSuggestions.map(suggestion2 =>
                `<div class="cursor-pointer hover:bg-gray-100 p-1" onclick="selectSuggestion('${suggestion2}')">${suggestion2}</div>`
            ).join('');
        }
    });

    function selectSuggestion(suggestion2) {
        input2.value = suggestion2;
        suggestions2.style.display = 'none';
    }
</script>
{% endblock body %}